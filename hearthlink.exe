#!/usr/bin/env node

/**
 * Hearthlink Portable Executable v1.3.0
 * Advanced AI Orchestration Platform
 */

const { spawn } = require('child_process');
const path = require('path');
const os = require('os');

console.log('⚡ HEARTHLINK v1.3.0');
console.log('Advanced AI Orchestration Platform');
console.log('Starting application...');

// Get the directory where this executable is located
const appDir = path.dirname(process.execPath || __dirname);

// Launch the main application
const isWindows = os.platform() === 'win32';
const nodeCmd = isWindows ? 'node.exe' : 'node';
const launcherPath = path.join(appDir, 'launcher.js');

// Check if launcher exists
if (!require('fs').existsSync(launcherPath)) {
  console.error('❌ Error: launcher.js not found in', appDir);
  console.log('Please ensure all Hearthlink files are in the same directory as this executable.');
  process.exit(1);
}

console.log('✅ Starting Hearthlink launcher...');

const child = spawn(nodeCmd, [launcherPath], {
  stdio: 'inherit',
  cwd: appDir
});

child.on('error', (error) => {
  console.error('❌ Error starting Hearthlink:', error.message);
  console.log('Please ensure Node.js is installed on your system.');
  process.exit(1);
});

child.on('exit', (code) => {
  console.log(`Hearthlink exited with code ${code}`);
  process.exit(code);
});
